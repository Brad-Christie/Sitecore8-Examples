(function(n,t){"use strict";t(function(){function i(n){return n?n.length!=36&&n.length!=38?!1:n.match(/\{?[a-f0-9]{8}(?:\-[a-f0-9]{4}){3}\-[a-f0-9]{12}\}?/i):!1}function r(n){return n?n.match(/^\/?\w[\s\w]*(?:\/[\s\w]+)+/):!1}function n(){var n=t("#default-database").val();return n&&n.length>0?"database="+encodeURIComponent(n):""}t("#get-form").on("submit",function(r){var e=t(this),u=t(e.data("target")),f=t("#get-id").val();if(i(f))f=encodeURIComponent(f);else return u.bsAlert({type:"danger",title:"Invalid Field",message:"The Item ID must be a valid Sitecore ID."}),r.preventDefault(),!1;return t.ajax({url:"/sitecore/api/ssc/item/"+f,type:"GET",data:e.serialize()+"&"+n()}).done(function(n){u.append(t("<pre>").text(JSON.stringify(n,null,"  ")));u.bsAlert({type:"success",message:this.type+": "+this.url})}).fail(function(n,t,i){n.status==404?u.bsAlert({type:"danger",title:"Error",message:t+"; Make sure you supplied a valid id."}):u.bsAlert({type:"danger",title:"Error",message:i})}),r.preventDefault(),!1});t("#post-form").on("submit",function(i){var e=t(this),u=t(e.data("target")),f=t("#post-path").val(),o={TemplateID:t("#post-templateid").val(),ItemName:t("#post-itemname").val(),Title:t("#post-title").val(),Text:t("#post-text").val()};if(r(f))f=encodeURIComponent(f.substr(1));else return u.bsAlert({type:"danger",title:"Invalid Field",message:"The Destination Path must be a valid Sitecore path."}),i.preventDefault(),!1;return e.find(":input[name]").each(function(){var n=t(this);o[$this.prop("name")]=$this.val()}),t.ajax({url:"/sitecore/api/ssc/item/"+f+"?"+n(),type:"POST",data:JSON.stringify(o),contentType:"application/json"}).done(function(n,i,r){r.status==201?u.bsAlert({type:"info",message:"Item created at <u>"+r.getResponseHeader("Location")+"<\/u>."}):u.append(t("<pre>").text(JSON.stringify(n,null,"  ")));u.bsAlert({type:"success",message:this.type+": "+this.url})}).fail(function(n,t,i){u.bsAlert({type:"danger",title:"Error",message:i+"; Make sure you are logged into sitecore first."})}),i.preventDefault(),!1});t("#patch-form-prep").on("submit",function(i){var u=t(this),r=t(u.data("target")),f=t("#patch-form"),e=t("#delete-form");return t.ajax({url:"/sitecore/api/ssc/item/",type:"GET",data:u.serialize()+"&"+n()}).done(function(n){t("#patch-id").val(n.ItemID);t("#patch-itemname").val(n.ItemName);t("#patch-templateid").val(n.TemplateID);t("#patch-title").val(n.Title);t("#patch-text").val(n.Text);r.bsAlert({type:"success",title:"Success",message:'Please make some modifications to the item below and click <span class="label label-default">Execute<\/span>.'});r.bsAlert({type:"success",message:this.type+": "+this.url});f.find('button[type="submit"]').prop("disabled",!1);t("#delete-id").val(n.ItemID);e.find('button[type="submit"]').prop("disabled",!1)}).fail(function(n,t,i){n.status==404?r.bsAlert({type:"danger",title:"Not Found",message:"Unable to locate item; have you created or published the item yet?"}):r.bsAlert({type:"danger",title:"Error",message:i});f.find('button[type="submit"]').prop("disabled",!0);e.find('button[type="submit"]').prop("disabled",!0)}),i.preventDefault(),!1});t("#patch-form").on("submit",function(r){var e=t(this),u=t(e.data("target")),f=t("#patch-id").val(),o={TemplateID:t("#patch-templateid").val(),ItemName:t("#patch-itemname").val(),Title:t("#patch-title").val(),Text:t("#patch-text").val()};if(i(f))f=encodeURIComponent(f);else return u.bsAlert({type:"danger",title:"Invalid Field",message:"The Item ID must be a valid Sitecore ID."}),r.preventDefault(),!1;return t.ajax({url:"/sitecore/api/ssc/item/"+f+"?"+n(),type:"PATCH",data:JSON.stringify(o),contentType:"application/json"}).done(function(){u.bsAlert({type:"success",message:this.type+": "+this.url});u.bsAlert({type:"success",message:this.type+": "+this.url})}).fail(function(n,t,i){n.status==404?u.bsAlert({type:"danger",title:"Not Found",message:"Unable to locate item; If the item is not published you cannot update it."}):u.bsAlert({type:"danger",title:"Error",message:i+"; Make sure you are logged into sitecore first."})}),r.preventDefault(),!1});t("#delete-form").on("submit",function(r){var e=t(this),u=t(e.data("target")),f=t("#delete-id").val();if(i(f))f=encodeURIComponent(f);else return u.bsAlert({type:"danger",title:"Invalid Field",message:"The Item ID must be a valid Sitecore ID."}),r.preventDefault(),!1;return t.ajax({url:"/sitecore/api/ssc/item/"+f+"?"+n(),type:"DELETE"}).done(function(){u.bsAlert({type:"success",message:this.type+": "+this.url});u.bsAlert({type:"success",message:this.type+": "+this.url})}).fail(function(n,t,i){u.bsAlert({type:"danger",title:"Error",message:i+"; Make sure you are logged into sitecore first."})}),r.preventDefault(),!1})})})(window,jQuery);
//# sourceMappingURL=action-Default.min.js.map
